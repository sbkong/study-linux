SELinux(Security-Enhanced Linux)는 Linux 커널에 통합된 보안 모듈로, 시스템의 보안을 강화하기 위해 강력한 액세스 제어 정책을 제공합니다. SELinux는 미국 국가안보국(NSA)에 의해 개발되었으며, 리눅스 시스템에서 사용되는 객체(파일, 프로세스 등)에 대한 세밀한 보안 정책을 설정할 수 있게 해줍니다.

### SELinux의 주요 개념

1. **MAC(Mandatory Access Control)**:
   - SELinux는 **강제 접근 제어**(MAC)를 기반으로 합니다. 이는 사용자가 설정한 전통적인 파일 권한(읽기, 쓰기, 실행) 외에, 시스템 정책에 의해 더욱 엄격하게 접근이 제어됩니다.
   - 전통적인 DAC(Discretionary Access Control)과 달리, MAC은 시스템 관리자가 설정한 정책에 따라 접근이 강제적으로 관리되며, 일반 사용자는 이를 변경할 수 없습니다.

2. **컨텍스트(Context)**:
   - SELinux는 모든 파일, 디렉토리, 프로세스, 네트워크 포트 등에 **보안 컨텍스트**를 부여합니다. 이 컨텍스트는 객체가 어떤 역할을 하며, 어떤 유형의 객체인지 정의합니다.
   - 보안 컨텍스트는 일반적으로 다음과 같이 구성됩니다: `user:role:type:level`.
     - **user**: SELinux 사용자(예: `system_u`).
     - **role**: 역할(예: `object_r`).
     - **type**: 유형(예: `httpd_sys_content_t`).
     - **level**: 보안 수준(예: `s0`, 이는 일반적으로 다중 레벨 보안을 사용하지 않는 시스템에서 생략됩니다).

3. **유형(Type) 기반 제어**:
   - SELinux의 주요 접근 제어 메커니즘은 **유형 기반 제어**(Type Enforcement, TE)입니다. 각 객체는 특정 유형을 가지며, 정책은 이 유형들 간의 상호작용을 규정합니다.
   - 예를 들어, `httpd_t` 유형의 프로세스는 `httpd_sys_content_t` 유형의 파일에 접근할 수 있지만, 다른 유형의 파일에 접근하려 하면 차단될 수 있습니다.

4. **정책(Policy)**:
   - SELinux는 특정 상황에서의 접근을 허용하거나 차단하는 **정책**을 정의합니다. 이러한 정책은 커널에서 로드되어 시스템 전체에 적용됩니다.
   - 기본적으로 제공되는 정책은 다양한 범위의 보안 요구를 충족하며, 필요에 따라 커스터마이즈할 수 있습니다.

5. **모드(Modes)**:
   - SELinux는 세 가지 운영 모드를 제공합니다.
     - **Enforcing**: SELinux 정책이 강제적으로 적용되며, 규칙에 어긋나는 모든 접근이 차단됩니다.
     - **Permissive**: 정책이 적용되지만, 접근이 차단되지는 않고, 로그에 기록됩니다. 이는 정책을 테스트하거나 디버깅할 때 유용합니다.
     - **Disabled**: SELinux가 비활성화된 상태로, 보안 정책이 전혀 적용되지 않습니다.

6. **로그와 감사(Audit)**:
   - SELinux는 `/var/log/audit/audit.log` 파일에 보안 위반을 기록합니다. 이를 통해 어떤 접근이 차단되었는지, 그리고 왜 차단되었는지 분석할 수 있습니다.
   - 로그는 시스템의 보안 상태를 모니터링하고, 문제를 디버깅하는 데 중요한 역할을 합니다.

### SELinux의 장점

- **강력한 보안**: SELinux는 운영 체제 수준에서 매우 세밀한 보안 제어를 제공하여, 악성 코드나 침입자가 시스템을 완전히 장악하지 못하게 방지합니다.
- **다중 레벨 보안(MLS)**: SELinux는 시스템이 다중 보안 레벨에서 동시에 작동하도록 지원할 수 있습니다. 이는 특히 군사 및 정부 기관에서 중요한 보안 기능입니다.
- **확장 가능성**: 시스템 관리자나 보안 전문가가 필요에 따라 보안 정책을 커스터마이즈하여 다양한 환경에 적용할 수 있습니다.

### SELinux의 단점

- **복잡성**: SELinux는 매우 강력한 보안 도구이지만, 그만큼 설정과 관리가 복잡할 수 있습니다. 잘못된 설정은 시스템 기능을 방해하거나 예상치 못한 문제를 일으킬 수 있습니다.
- **학습 곡선**: SELinux를 제대로 이해하고 사용하는 데는 시간과 노력이 필요합니다. 시스템 관리자에게는 SELinux의 작동 방식에 대한 깊은 이해가 요구됩니다.
- **퍼포먼스 오버헤드**: SELinux의 추가 보안 검사로 인해 약간의 성능 저하가 발생할 수 있지만, 이는 일반적으로 미미한 수준입니다.

### 결론

SELinux는 리눅스 시스템의 보안을 강화하는 데 매우 유용한 도구입니다. 제대로 설정하고 관리하면 시스템에 대한 강력한 보호막을 제공할 수 있습니다. 하지만 이를 제대로 활용하기 위해서는 SELinux의 작동 원리를 이해하고, 보안 정책을 적절하게 구성하는 것이 중요합니다.

# See Also
[[SELinux 예외처리]]